python_requirements(name="reqs")

pex_binary(
    name="pex",
    dependencies=[
        ":reqs#ansible-core",
    ],
    include_tools=True,
    complete_platforms=[
        ":platform-files",
    ],
)

scie_binary(
    name="pantsible",
    dependencies=[":pex"],
    platforms=["linux-x86_64", "macos-aarch64"],
    lift="lift.toml",
)

files(
    name="platform-files",
    sources=[
        "linux-x86_64-py314.json",
        "macos-aarch64-py314.json",
    ],
)